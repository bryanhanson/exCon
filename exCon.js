!function(){var CL=[{level:[100],x:[1,.9884,.9778,.9767,.9651,.9546,.9535,.9429,.9419,.9313,.9302,.9197,.9186,.908,.907,.8964,.8953,.8843,.8837,.8725,.8721,.8608,.8605,.8491,.8488,.8375,.8372,.826,.8256,.8145,.8145,.814,.8034,.8023,.7918,.7918,.7918,.7907,.7801,.7801,.7801,.7801,.7791,.7685,.7685,.7685,.7685],y:[.5515,.5515,.5667,.5682,.5682,.5833,.5849,.6,.6015,.6167,.6182,.6333,.6349,.65,.6515,.6667,.6675,.6833,.6839,.7,.7005,.7167,.7171,.7333,.7337,.75,.7505,.7667,.7675,.7833,.8,.8015,.8167,.8182,.8333,.85,.8667,.8682,.8833,.9,.9167,.9333,.9349,.95,.9667,.9833,1]},{level:[100],x:[.908,.9186,.9302,.9419,.9429,.9429,.9429,.9535,.9546,.9651,.9662,.9767,.9778,.9884,.9894,1],y:[0,.0151,.0151,.0151,.0167,.0333,.05,.0651,.0667,.0818,.0833,.0985,.1,.1151,.1167,.1318]},{level:[100],x:[1,.9894,.9884,.9767,.9662,.9662,.9767,.9778,.9884,.9894,1],y:[.1682,.1833,.1849,.1849,.2,.2167,.2318,.2333,.2485,.25,.2651]},{level:[120],x:[.1971,.186,.1855,.1855,.1822,.1744,.174,.1705,.1686,.1667,.1628,.1624,.157,.1512,.1453,.1395,.1337,.1279,.124,.1163,.114,.1093,.1047,.1044,.0988,.093,.0926,.086,.0814,.0811,.0756,.0698,.0695,.0674,.064,.061,.0581,.0543,.0465,.0436,.0407,.0436,.0378,.0349,.0347,.0329,.031,.0271,.0252,.0249,.0233,.0209,.0213,.0231,.0233,.0271,.031,.0347,.0349,.0419,.0465,.0504,.0581,.0659,.0698,.0756,.0814,.0872,.093,.0969,.1043,.1047,.1124,.1163,.1202,.1279,.1385,.1395,.1512,.157,.1628,.174,.1744,.186,.1977,.2093,.2122,.2209,.2326,.2442,.2458,.2535,.2558,.2674,.2791,.2907,.3023,.314,.3256,.3372,.3488,.3605,.3721,.3779,.3837,.3953,.407,.4075,.4186,.4244,.4302,.4419,.4424,.4535,.4593,.4651,.4767,.4884,.4894,.5,.5116,.5233,.5243,.5349,.5465,.5581,.5698,.5708,.5814,.5825,.593,.5936,.6047,.6052,.6163,.6279,.6395,.6512,.6628,.6744,.686,.6977,.7093,.7209,.7213,.7302,.7326,.7403,.7442,.7481,.7558,.7564,.7674,.7678,.7713,.7752,.7791,.7794,.7849,.7907,.7913,.7965,.8023,.8034,.814,.8145,.8198,.8256,.8314,.8372,.843,.8488,.8494,.8499,.8605,.861,.8643,.8651,.8651,.8643,.8605,.8581,.8538,.849,.8488,.8455,.843,.843,.843,.8465,.8488,.8505,.8491,.8488,.8459,.8401,.8372,.8333,.8259,.8256,.8198,.8143,.814,.8081,.8034,.8027,.8023,.7907,.7896,.7791,.7674,.7664,.7558,.7547,.7442,.7431,.7326,.7209,.7093,.6977,.686,.6744,.6734,.6628,.6512,.6406,.6395,.6279,.6163,.6057,.6047,.5941,.593,.5814,.5803,.5698,.5581,.5571,.5465,.5349,.5233,.5222,.5116,.5,.4884,.4873,.4767,.4651,.4535,.4419,.4302,.4197,.4186,.407,.3964,.3953,.3843,.3837,.3727,.3721,.361,.3605,.3494,.3488,.3378,.3372,.3261,.3256,.314,.3029],y:[0,.0159,.0167,.0333,.05,.0659,.0667,.0833,.1,.1167,.1318,.1333,.15,.1583,.1667,.175,.1833,.1917,.2,.2111,.2167,.2333,.2492,.25,.2667,.2825,.2833,.3,.3159,.3167,.3333,.3492,.35,.3667,.3833,.4,.4083,.4167,.4278,.4333,.45,.4667,.4833,.4985,.5,.5167,.5333,.55,.5667,.5833,.5917,.6,.6167,.6333,.6341,.65,.6667,.6833,.6839,.7,.7111,.7167,.725,.7333,.7389,.75,.7583,.7667,.7778,.7833,.8,.8008,.8167,.825,.8333,.8444,.85,.8508,.8625,.8667,.8708,.8833,.8837,.8837,.8867,.8958,.9,.91,.9119,.9152,.9167,.9333,.9361,.9361,.9361,.9361,.9361,.9389,.9405,.9429,.9467,.9433,.9375,.9333,.9306,.925,.9172,.9167,.9056,.9,.8944,.8841,.8833,.8722,.8667,.8611,.8556,.8505,.85,.8349,.8341,.8339,.8333,.8182,.8182,.8182,.8175,.8167,.8015,.8,.7849,.7833,.7675,.7667,.7556,.7505,.7508,.7503,.7505,.7556,.7583,.7625,.7567,.7504,.75,.7333,.7278,.7167,.7083,.7,.6841,.6833,.6675,.6667,.65,.6333,.6182,.6167,.6,.5849,.5833,.5667,.5515,.55,.5349,.5333,.5167,.5083,.5,.4917,.4833,.4682,.4667,.45,.4349,.4333,.4167,.4,.3833,.3667,.3556,.35,.3333,.3167,.3159,.3,.2833,.2667,.25,.2333,.225,.2167,.2,.1985,.1833,.1667,.1583,.15,.1333,.1318,.1167,.1,.0985,.0833,.0667,.05,.0492,.0485,.05,.0651,.0651,.0667,.0818,.0833,.0985,.1,.1151,.1159,.1159,.1159,.1151,.1159,.1167,.1222,.125,.1167,.1159,.1151,.1151,.1,.0985,.0833,.0818,.0818,.0833,.0985,.0985,.1,.1151,.1151,.1159,.1167,.1318,.1318,.1325,.1333,.1485,.1485,.1492,.1485,.1485,.1333,.1325,.1318,.1167,.1159,.1,.0992,.0833,.0825,.0667,.0659,.05,.0492,.0333,.0325,.0167,.0161,.0111,0]},{level:[140],x:[.0698,.0696,.0651,.0651,.0659,.0674,.0695,.0695,.0695,.0695,.0698,.0736,.0785,.0814,.0853,.093,.0988,.1047,.1159,.1163,.1275,.1279,.1392,.1395,.1508,.1512,.1589,.1628,.1686,.1744,.1822,.186,.1948,.1977,.2093,.2132,.2209,.2323,.2326,.2442,.2558,.2674,.2791,.2907,.3013,.3023,.314,.3256,.3372,.3488,.3605,.3608,.3721,.3727,.3837,.3953,.3956,.407,.4147,.4186,.4302,.4305,.4419,.4421,.4488,.4506,.4506,.4535,.4539,.4574,.4622,.4651,.4767,.4773,.4884,.4922,.5,.5004,.5087,.5116,.5233,.5349,.5465,.5571,.5581,.5698,.5814,.592,.593,.6047,.6163,.6268,.6279,.6395,.6506,.6512,.6628,.6744,.686,.6871,.6977,.6987,.6982,.6981,.6982,.6977,.6866,.686,.6744,.6639,.6639,.6639,.6744,.675,.675,.686,.6871,.6977,.7035,.7093,.7209,.7326,.7336,.7442,.7558,.7581,.7645,.7674,.7713,.7791,.7794,.7868,.7907,.7946,.8023,.8027,.8052,.8062,.8062,.8047,.804,.8025,.8023,.7918,.7907,.7791,.7685,.7674,.7558,.7442,.7326,.7209,.7104,.7093,.6977,.686,.685,.6744,.6628,.6512,.6501,.6395,.6279,.6163,.6047,.6036,.593,.5814,.5698,.5581,.5465,.5349,.5233,.5116,.5,.4884,.4767,.4651,.4535,.4419,.4302,.4264,.4186,.4075,.407,.3953,.3837,.3779,.3721,.3643,.3605,.3547,.3488,.3411,.3372,.3261,.3256,.3145,.314,.3023,.2918,.2907,.2791,.2785,.2674,.2669,.2597,.2558,.25,.2442,.2438,.2326,.2322,.2238,.2209,.2122,.2093,.1977,.186,.1744,.1715,.1628,.157,.1512,.1395,.1394,.1312,.1279,.1244,.1202,.1163,.1148,.1113,.108,.1047,.1045,.103,.1013,.0962,.0941,.093,.0897,.0814,.0795,.0698],y:[.4997,.5,.5167,.5333,.55,.5667,.5833,.6,.6167,.6333,.6349,.65,.6667,.675,.6833,.6944,.7,.7042,.7167,.7172,.7333,.7337,.75,.7505,.7667,.7675,.7833,.7889,.8,.8083,.8167,.8208,.8333,.8357,.8458,.85,.8556,.8667,.8669,.87,.875,.88,.88,.8806,.8833,.8836,.8881,.8881,.8867,.8861,.8836,.8833,.8672,.8667,.86,.8504,.85,.8389,.8333,.83,.8169,.8167,.8004,.8,.7833,.7667,.75,.7349,.7333,.7167,.7,.6944,.6839,.6833,.6722,.6667,.6508,.65,.6333,.6278,.6278,.625,.6278,.6333,.6341,.6389,.6417,.65,.6505,.6556,.6515,.6667,.6672,.6675,.6833,.6837,.6839,.6839,.6839,.6833,.6682,.6667,.65,.6333,.6167,.6159,.6,.5992,.5985,.5833,.5667,.55,.5349,.5333,.5167,.5008,.5,.4917,.4833,.4778,.475,.4675,.4667,.4611,.4556,.45,.4333,.425,.4167,.4008,.4,.3833,.375,.3667,.3508,.35,.3333,.3167,.3,.2833,.2667,.25,.2485,.2333,.2328,.2222,.2167,.2161,.2125,.2111,.2056,.2056,.2,.1995,.1995,.1996,.2,.2083,.2083,.2159,.2167,.2222,.2278,.2325,.2328,.2333,.2389,.2389,.2389,.2389,.2389,.2389,.2389,.2417,.2444,.2444,.2458,.2458,.2496,.2458,.2375,.2333,.225,.2167,.2163,.2125,.2056,.2,.1944,.1833,.175,.1667,.1611,.15,.1444,.1333,.1325,.1167,.1161,.1056,.1,.0992,.0992,.1,.1159,.1167,.1333,.1417,.15,.1651,.1667,.1828,.1833,.2,.2042,.2167,.2194,.2267,.2286,.231,.2333,.2417,.25,.2583,.2664,.2667,.2833,.29,.3,.3167,.3292,.3333,.35,.3667,.3825,.3833,.4,.4167,.4333,.45,.4556,.4667,.4806,.4833,.4997]},{level:[160],x:[.1163,.114,.1105,.1076,.1085,.1105,.1085,.1085,.1161,.1163,.1233,.1279,.1296,.1337,.1379,.1395,.1473,.1512,.1625,.1628,.1721,.1744,.1814,.186,.1948,.1977,.2064,.2093,.2206,.2209,.2326,.2372,.2442,.2554,.2558,.2674,.2791,.2907,.3013,.3023,.314,.3256,.3372,.345,.3488,.3605,.3663,.3721,.3837,.384,.3953,.3957,.407,.4071,.4093,.414,.414,.4128,.4109,.4099,.4186,.419,.4302,.4341,.4419,.4477,.4535,.4574,.4651,.4657,.4767,.4773,.4855,.4884,.4888,.4942,.5,.5116,.5233,.5349,.5407,.5465,.5581,.5698,.5703,.5814,.5818,.5853,.5901,.593,.5936,.5969,.5988,.6008,.6008,.5936,.593,.5901,.5872,.5814,.5698,.5581,.5523,.5465,.5349,.5233,.5227,.5116,.5,.4884,.4778,.4767,.4651,.4539,.4535,.4419,.4302,.4186,.407,.3953,.3837,.3727,.3721,.3608,.3605,.3491,.3488,.3376,.3372,.326,.3256,.314,.3034,.3023,.2907,.2791,.2674,.2558,.2529,.2442,.2403,.2326,.2248,.2209,.2093,.2087,.1977,.186,.1744,.1628,.1625,.1512,.1495,.1492,.1478,.1453,.1415,.1395,.1379,.1349,.1302,.1279,.1276,.1192,.1163],y:[.475,.4833,.5,.5167,.5333,.55,.5667,.5833,.6,.6005,.6167,.6278,.6333,.65,.6667,.6722,.6833,.6867,.7,.7004,.7167,.7208,.7333,.74,.75,.7542,.7667,.77,.7833,.7837,.7944,.8,.8083,.8167,.8169,.8194,.825,.831,.8333,.8336,.8336,.8354,.8375,.8333,.8315,.8222,.8167,.8111,.8003,.8,.7837,.7833,.7672,.7667,.75,.7333,.7167,.7,.6833,.6667,.6505,.65,.6375,.6333,.6222,.6167,.6083,.6,.5841,.5833,.5675,.5667,.55,.5349,.5333,.5167,.5083,.5056,.5008,.5083,.5167,.5222,.525,.5182,.5167,.5008,.5,.4833,.4667,.4515,.45,.4333,.4167,.4,.3833,.3667,.3651,.35,.3333,.3292,.3292,.33,.3333,.3367,.3433,.3497,.35,.3611,.3556,.3542,.35,.3497,.3433,.3333,.333,.3329,.3329,.3329,.3328,.3292,.3233,.3167,.3163,.3,.2996,.2833,.2828,.2667,.2661,.25,.2495,.2375,.2333,.2329,.2328,.2328,.2292,.23,.2333,.2458,.25,.2583,.2667,.27,.2828,.2833,.2917,.2958,.2996,.2996,.3,.3133,.3167,.3333,.35,.3667,.3833,.3917,.4,.4167,.4333,.4485,.45,.4667,.475]},{level:[160],x:[.3023,.2946,.2936,.2911,.2911,.2946,.2994,.3023,.3101,.314,.3256,.3372,.3488,.3547,.3605,.3682,.3721,.3744,.3779,.3808,.3798,.3721,.3717,.3634,.3605,.3488,.3372,.3256,.314,.3029,.3023],y:[.5008,.5167,.5333,.55,.5667,.5833,.6,.6056,.6167,.6208,.6222,.6233,.619,.6167,.6111,.6,.5917,.5833,.5667,.55,.5333,.5175,.5167,.5,.4944,.4875,.4837,.4839,.4889,.5,.5008]},{level:[180],x:[.1628,.1626,.1581,.1541,.1558,.157,.1578,.1625,.1628,.1705,.174,.1744,.186,.189,.1974,.1977,.2074,.2093,.218,.2209,.2297,.2326,.2413,.2442,.2554,.2558,.2674,.2791,.2896,.2907,.3023,.314,.3145,.3256,.3372,.3383,.3488,.3494,.3494,.3488,.3372,.3266,.3256,.325,.314,.3023,.2907,.2801,.2791,.2674,.2645,.2616,.2562,.2558,.2539,.2508,.2492,.2481,.2481,.2471,.2471,.2481,.25,.2535,.2558,.2645,.2674,.2703,.2791,.2796,.2907,.3023,.3034,.314,.3256,.3266,.3266,.3266,.3256,.315,.314,.3034,.3023,.2907,.2791,.2674,.2558,.25,.2442,.2326,.2267,.2209,.2093,.1977,.1938,.186,.1858,.1783,.1744,.1743,.1728,.1725,.1698,.1667,.1628],y:[.4985,.5,.5167,.5333,.55,.5667,.5833,.6,.6008,.6167,.6333,.6337,.6444,.65,.6667,.667,.6833,.6875,.7,.7042,.7167,.7208,.7333,.7375,.75,.7504,.7515,.7515,.7667,.767,.7675,.7682,.7667,.7508,.7508,.75,.7349,.7333,.7167,.7151,.7151,.7,.6992,.7,.7159,.7159,.7151,.7,.6992,.6985,.6833,.6667,.65,.6485,.6333,.6167,.6,.5833,.5667,.55,.5333,.5167,.5,.4833,.4792,.4667,.4583,.45,.4339,.4333,.4222,.417,.4167,.4015,.4015,.4,.3833,.3667,.3651,.35,.3485,.3333,.3325,.3325,.3278,.3278,.3292,.3333,.3389,.3458,.35,.3533,.3611,.3633,.3667,.3825,.3833,.4,.4151,.4167,.4333,.45,.4667,.4833,.4985]},{level:[180],x:[.4186,.4175,.4175,.4186,.4292,.4292,.4302,.4419,.4424,.4429,.4429,.4419,.4313,.4302,.4186],y:[.4159,.4167,.4333,.4349,.45,.4667,.4682,.4682,.4667,.45,.4333,.4318,.4167,.4161,.4159]}],M=[[100,101,102,103,104,105,105,106,107,108,109,110,110,111,114,116,118,120,120,121,122,122,123,124,123,123,120,118,117,115,114,115,113,111,110,109,108,108,107,107,107,108,109,110,111,111,112,113,113,114,115,115,114,113,112,111,111,112,112,112,113,114,114,115,115,116,116,117,117,116,114,112,109,106,104,102,101,100,100,99,99,99,99,98,98,97,97],[100,101,102,103,104,105,106,107,108,109,110,110,111,113,115,118,120,121,122,124,125,125,126,127,128,127,124,121,120,118,116,114,113,112,112,110,109,109,108,108,108,109,110,111,112,112,113,114,114,115,116,116,115,114,113,112,112,113,113,114,114,115,115,116,116,117,117,118,118,117,115,113,111,107,105,103,102,101,101,100,100,100,99,99,98,98,97],[101,102,103,104,105,105,106,107,108,109,110,111,113,115,117,118,120,122,125,126,127,128,129,130,131,131,128,125,121,120,118,116,114,113,113,111,111,111,111,110,109,110,111,112,113,113,114,115,115,116,117,117,116,115,114,114,113,113,114,114,115,115,116,116,117,118,118,119,119,118,116,114,112,108,105,103,103,102,101,101,100,100,99,99,98,98,97],[101,102,103,104,105,106,107,108,109,110,111,113,115,117,117,118,121,123,126,128,130,130,131,132,133,134,131,129,125,122,120,118,116,114,113,112,112,113,112,112,111,112,113,113,114,115,116,116,117,117,118,118,116,116,115,115,115,114,114,115,116,116,117,117,118,118,119,119,120,120,117,115,112,108,106,104,103,102,102,102,101,100,99,99,99,98,98],[101,102,103,104,105,106,107,108,109,110,111,112,114,116,117,120,122,124,126,129,130,132,133,135,136,136,134,132,129,126,122,120,118,116,114,114,114,114,114,113,113,114,115,116,116,117,117,117,118,118,119,119,118,117,116,116,115,115,116,116,116,117,117,118,118,119,120,120,120,120,119,116,113,109,106,104,104,103,102,102,101,101,100,99,99,99,98],[101,102,103,104,105,106,107,108,109,110,111,111,113,115,118,121,123,125,127,129,131,133,135,137,138,138,137,134,132,130,127,122,120,118,116,116,116,116,115,113,114,115,116,117,117,118,118,119,119,119,120,120,119,118,117,117,116,116,117,117,117,118,119,119,119,120,121,121,121,121,119,116,113,110,107,105,105,103,103,103,102,101,100,100,99,99,99],[101,102,103,104,105,106,107,108,109,110,111,113,114,116,119,121,124,126,128,130,133,135,137,138,140,140,139,137,135,133,131,127,122,120,118,118,117,117,116,115,116,116,117,118,118,118,119,119,120,120,121,121,120,119,119,118,117,117,118,119,118,118,118,119,120,122,123,123,123,122,120,117,113,110,108,106,105,104,103,103,102,101,101,100,100,99,99],[100,101,102,103,104,105,106,107,108,109,110,112,114,117,119,122,124,127,129,131,134,136,138,140,142,142,142,140,138,136,133,129,125,122,120,119,118,118,117,116,117,117,118,119,119,120,120,120,121,121,121,122,121,120,120,120,119,119,120,120,120,120,120,120,123,123,124,124,124,123,121,119,114,112,108,106,106,104,104,103,102,102,101,101,100,100,99],[100,101,102,103,104,105,106,107,108,109,110,112,115,117,120,122,125,127,130,132,135,137,139,142,144,144,144,142,140,138,136,132,129,126,123,120,120,119,119,118,119,119,120,120,120,121,122,122,123,123,123,123,122,123,122,122,121,122,122,122,123,123,123,124,125,125,126,126,125,124,122,120,116,113,109,107,106,105,104,104,103,102,102,101,101,100,100],[100,101,102,103,103,104,105,106,107,108,110,114,117,119,121,123,126,128,130,133,136,139,141,144,146,147,146,145,143,141,138,136,133,130,127,124,121,120,120,120,120,120,121,122,123,124,124,125,125,126,126,125,126,126,126,125,126,127,128,128,129,129,128,128,128,128,128,128,126,125,123,122,119,114,109,108,107,106,105,104,103,103,102,102,101,100,100],[101,102,103,103,104,104,105,106,108,110,112,116,119,121,124,125,127,130,132,135,137,140,143,147,149,149,149,147,145,143,141,139,136,133,131,128,125,122,121,122,122,122,123,125,125,126,127,127,127,128,128,128,129,129,130,131,131,132,132,133,133,133,132,132,131,131,130,129,128,126,125,124,121,117,111,109,108,106,105,104,103,102,101,101,100,100,100],[101,102,103,104,104,105,106,107,108,110,114,119,121,124,126,128,129,132,134,137,140,143,147,149,151,151,151,149,147,145,143,141,138,136,134,131,128,126,124,125,125,126,126,127,128,128,129,129,130,130,131,131,132,132,133,134,135,135,136,136,137,137,136,136,135,134,133,131,129,128,127,126,123,119,115,111,109,107,105,104,103,102,101,100,100,100,99],[102,103,104,104,105,105,106,108,110,113,118,121,124,126,128,130,132,134,136,139,143,147,150,154,154,154,153,151,149,148,146,143,141,139,137,136,132,130,128,128,128,129,129,130,130,131,132,132,132,133,134,134,135,135,136,137,138,139,139,140,140,140,139,139,138,137,137,135,132,130,129,127,124,120,116,112,109,106,105,103,102,101,101,100,99,99,99],[102,103,104,104,105,106,107,108,111,116,121,124,126,128,131,134,135,137,139,143,147,152,156,157,157,157,156,155,153,151,148,146,143,142,141,140,138,135,133,132,132,133,133,133,134,135,135,135,135,136,136,137,137,138,138,139,140,141,141,142,142,143,142,142,141,141,140,139,137,134,133,129,125,121,114,110,107,106,106,104,103,102,101,100,99,99,99],[102,103,104,105,105,106,108,110,113,118,123,127,129,132,137,141,142,142,145,150,154,157,161,161,160,160,160,159,157,154,151,148,146,145,143,142,142,139,137,136,137,137,138,138,139,139,139,139,139,139,139,139,140,140,141,142,142,143,144,144,144,145,145,145,145,145,144,142,140,139,136,129,124,119,113,109,106,106,105,104,103,102,101,101,100,99,99],[102,103,104,105,106,107,109,113,116,120,125,129,133,137,143,147,149,151,152,154,158,161,164,165,164,164,163,163,160,157,154,151,149,147,145,145,144,143,141,140,141,141,141,141,141,142,142,142,142,142,142,142,143,143,143,144,144,145,146,146,146,147,148,148,148,148,145,143,142,140,134,128,123,117,112,108,106,105,105,104,104,103,102,101,100,100,99],[103,104,105,106,107,109,111,115,118,122,127,133,140,143,150,152,153,155,157,159,162,164,167,168,168,168,167,166,163,160,157,153,150,148,148,147,147,147,145,145,144,143,143,143,144,144,144,144,145,145,145,145,146,146,146,146,146,147,147,148,149,150,150,150,150,149,147,145,143,141,134,127,123,117,111,108,105,105,104,104,103,103,102,101,100,100,100],[104,105,106,107,108,110,113,117,120,125,129,138,145,151,156,156,157,158,160,164,166,168,170,171,172,171,171,169,166,163,160,156,153,151,150,150,149,149,149,148,146,146,146,146,146,146,146,147,148,148,149,149,149,148,148,148,148,149,149,150,150,150,150,150,150,150,148,146,143,141,136,129,123,117,110,108,105,104,103,102,102,101,101,100,100,100,100],[103,104,105,106,108,110,114,118,123,127,133,143,150,156,160,160,161,162,167,170,171,172,173,175,175,174,174,173,171,168,164,160,156,155,154,153,153,152,152,150,149,148,148,148,148,148,149,149,150,152,152,152,152,151,150,150,150,150,150,150,150,150,150,150,150,150,149,147,144,141,138,132,125,118,111,108,105,103,102,101,101,101,100,100,100,100,100],[102,103,104,106,108,112,116,120,125,129,137,146,154,161,163,165,166,169,172,173,174,175,177,178,178,178,178,177,174,171,168,164,160,158,157,157,156,156,156,155,152,151,150,150,151,151,152,154,156,157,157,156,155,153,152,152,151,150,150,150,150,150,150,150,150,150,150,147,144,141,138,133,127,120,113,109,106,103,101,101,101,100,100,100,100,100,100],[101,102,104,106,109,113,118,122,127,133,141,149,155,161,165,168,170,172,175,176,177,179,181,181,181,180,180,179,177,174,171,167,165,163,161,160,160,160,160,160,157,155,155,154,154,155,157,159,161,161,161,159,156,154,154,153,151,150,150,150,150,150,150,150,150,150,149,147,144,141,137,133,129,123,116,110,107,104,102,102,101,101,101,100,100,100,100],[101,102,105,107,110,115,120,124,129,136,143,149,155,162,168,170,174,176,178,179,181,182,184,184,183,181,180,180,179,177,174,172,170,168,166,165,164,164,164,164,162,160,159,159,158,160,162,164,166,166,163,159,157,156,155,153,151,150,150,150,150,150,150,150,150,150,149,146,143,140,137,133,129,124,119,112,108,105,103,103,102,101,101,101,101,100,100],[102,103,106,108,112,116,121,125,130,138,145,151,157,163,170,174,178,181,181,184,186,186,187,186,184,181,180,180,180,179,178,174,173,173,171,170,170,169,168,167,166,164,163,162,161,164,167,169,170,168,164,160,158,157,155,153,151,150,150,150,150,150,150,150,150,150,147,144,141,138,135,133,128,125,122,116,109,107,104,104,103,102,101,101,101,101,101],[103,105,107,110,114,118,122,127,132,140,146,153,159,165,171,176,180,183,185,186,189,190,188,187,184,182,180,180,180,179,178,176,176,176,176,174,174,173,172,170,168,167,165,163,164,165,169,170,170,170,166,162,159,157,155,153,151,150,150,150,150,150,150,150,150,150,146,142,139,136,133,131,128,125,122,117,110,108,106,105,104,103,103,101,101,101,101],[104,106,108,111,115,119,123,128,134,141,148,154,161,166,172,179,182,184,186,189,190,190,190,187,185,183,180,180,180,179,179,177,176,177,178,178,178,177,176,174,171,168,166,164,166,168,170,170,170,170,168,162,159,157,155,153,151,150,150,150,150,150,150,150,150,148,144,140,137,134,132,129,127,125,122,117,111,110,107,107,106,105,104,103,102,101,100],[104,106,110,114,118,121,125,129,135,142,150,157,162,167,173,180,183,186,188,190,190,190,189,184,183,181,180,179,179,176,177,176,176,177,178,179,180,180,179,177,173,169,167,166,167,169,170,170,170,170,167,161,159,157,155,153,151,150,150,150,150,150,150,149,147,145,141,138,135,133,130,127,125,123,121,118,113,111,110,110,109,109,107,106,105,103,100],[105,107,111,117,121,124,127,131,137,148,154,159,164,168,174,181,184,187,190,191,191,190,187,184,180,178,175,174,172,171,173,173,173,176,178,179,180,180,180,179,175,170,168,166,168,169,170,170,170,170,166,161,158,156,154,153,151,150,150,150,150,148,147,146,145,143,139,135,133,131,129,126,124,121,120,118,114,111,111,111,110,110,109,107,106,104,100],[107,109,113,118,122,126,129,134,139,150,156,160,165,170,175,181,184,188,191,192,192,189,185,181,177,173,171,169,168,167,169,170,172,174,176,178,179,180,180,179,175,170,168,166,166,168,168,170,170,168,164,160,158,155,152,151,150,149,149,148,147,145,144,143,142,141,136,133,130,129,127,125,123,120,119,118,115,112,111,111,111,110,109,109,109,105,100],[107,110,114,117,121,126,130,135,142,151,159,163,167,171,177,182,185,189,192,193,191,187,183,179,174,169,167,166,164,164,165,166,169,171,174,178,179,180,180,178,173,169,166,165,165,166,165,168,169,166,163,159,157,154,152,149,148,147,146,145,143,142,141,140,139,138,133,130,128,127,125,124,122,120,118,117,115,112,111,111,111,111,110,109,108,106,100],[107,110,115,119,123,129,135,141,146,156,161,165,168,173,179,182,186,189,193,194,191,184,179,175,170,166,162,161,160,160,161,162,165,169,172,176,178,179,179,176,172,168,165,163,163,163,163,165,166,164,161,158,155,152,150,147,146,144,143,142,141,139,139,138,137,135,131,128,127,125,124,122,121,119,118,116,115,113,112,111,111,110,110,109,109,105,100],[108,110,114,120,128,134,140,146,152,158,162,166,169,175,180,183,186,189,193,195,190,184,176,171,167,163,160,158,157,156,157,159,163,166,170,174,176,178,178,176,172,167,164,161,161,160,161,163,163,163,160,157,153,150,148,146,144,142,141,140,139,138,136,135,134,133,129,127,126,124,122,121,119,118,117,116,114,113,112,111,110,110,109,109,107,104,100],[108,110,115,121,131,137,142,147,152,159,163,167,170,177,182,184,187,189,192,194,189,183,174,169,165,161,158,156,154,153,154,157,160,164,167,171,172,174,174,173,171,168,161,159,158,158,159,161,161,160,158,155,151,149,147,144,142,141,140,138,137,136,135,134,132,130,128,126,125,123,121,119,118,117,116,115,113,112,112,111,110,109,108,107,105,101,100],[110,111,116,122,129,137,142,146,151,158,164,168,172,179,183,186,189,190,192,193,188,182,174,168,164,161,157,154,151,149,151,154,158,161,167,170,170,170,170,169,168,166,160,157,156,156,157,158,159,159,156,153,150,148,146,144,141,140,140,138,136,135,134,133,131,129,127,125,123,122,120,118,117,116,115,114,112,111,110,108,107,106,105,104,102,100,100],[110,112,118,124,130,136,142,146,151,157,163,168,174,178,183,187,189,190,191,192,189,182,174,168,164,160,157,153,149,148,149,153,157,161,167,170,170,170,168,166,165,163,159,156,154,153,155,155,155,155,152,150,149,147,145,143,141,140,139,138,136,134,133,131,130,128,126,124,122,120,119,117,116,115,114,113,111,110,107,106,105,105,102,101,100,100,100],[110,113,119,125,131,136,141,145,150,158,164,168,172,177,183,187,189,191,192,191,190,183,174,168,164,160,157,153,150,149,150,154,158,162,166,170,170,168,166,164,162,160,158,155,152,151,151,151,151,151,149,148,147,146,145,143,142,140,139,137,135,134,132,131,129,127,125,123,121,119,117,116,114,114,113,112,110,108,107,105,103,100,100,100,100,99,99],[110,114,119,126,131,135,140,144,149,158,164,168,172,176,183,184,189,190,191,191,190,183,174,169,165,161,158,154,150,151,152,155,159,164,168,168,168,167,165,163,160,158,155,153,150,148,148,148,148,148,147,146,146,145,143,142,141,140,139,138,136,134,132,131,128,126,124,122,120,118,116,114,113,113,112,111,108,107,106,105,104,102,100,99,99,99,99],[110,116,121,127,132,136,140,144,148,154,160,166,171,176,180,184,189,190,191,191,191,183,176,170,166,163,159,156,154,155,155,158,161,165,170,167,166,165,163,161,158,155,152,150,146,145,145,145,146,146,144,145,145,144,142,141,140,140,140,140,138,136,134,131,128,125,123,121,119,117,115,113,112,111,111,110,108,106,105,102,100,100,99,99,99,98,98],[110,115,121,127,132,136,140,144,148,151,157,162,169,174,178,181,186,188,190,191,190,184,177,172,168,165,162,159,158,158,159,161,166,167,169,166,164,163,161,159,156,153,149,146,142,142,141,142,143,143,143,143,144,142,141,140,140,140,140,140,140,138,134,131,128,125,123,120,117,116,114,112,110,109,108,107,106,105,102,101,100,99,99,99,98,98,97],[110,114,120,126,131,136,140,143,146,149,154,159,166,171,177,180,182,186,190,190,190,185,179,174,171,168,166,163,164,163,166,169,170,170,168,164,162,161,158,155,153,150,147,143,139,139,139,139,140,141,141,142,142,141,140,140,140,140,140,140,140,137,134,131,128,125,122,119,116,114,112,110,109,109,108,107,105,100,100,100,99,99,99,98,98,97,97],[110,112,118,124,130,135,139,142,145,148,151,157,163,169,172,176,179,183,187,190,190,186,180,177,175,173,170,169,169,170,171,172,170,170,167,163,160,157,154,152,149,147,144,140,137,137,136,137,138,138,139,140,141,140,140,140,140,140,140,140,140,138,134,131,128,124,121,118,115,112,110,109,108,107,106,105,100,100,100,99,99,99,98,98,98,97,97],[108,110,116,122,128,133,137,141,143,146,149,154,161,165,168,172,175,180,184,188,189,187,182,178,176,176,175,173,174,173,175,174,173,171,168,161,157,154,150,148,145,143,141,138,135,135,134,135,135,136,136,137,138,139,140,140,140,140,140,140,140,139,135,130,126,123,120,117,114,111,109,108,107,106,105,100,100,100,99,99,98,98,98,98,97,97,96],[108,110,114,120,126,129,134,139,142,144,146,152,158,161,164,168,171,175,181,184,186,186,183,179,178,178,177,175,178,177,177,176,175,173,168,162,156,153,149,145,142,140,138,136,133,132,132,132,134,134,134,134,135,136,137,138,140,140,140,140,139,137,133,127,123,120,118,115,112,108,108,106,106,105,100,100,100,98,98,98,98,98,98,97,96,96,96],[108,110,112,117,122,126,129,135,139,141,144,149,153,156,160,165,168,171,177,181,184,185,182,180,180,179,178,178,180,179,179,178,176,173,168,163,157,152,148,143,139,137,135,133,131,130,130,131,132,132,132,131,132,132,133,134,136,137,137,137,136,134,131,124,121,118,116,114,111,109,107,106,105,100,100,100,97,97,97,97,97,97,97,96,96,96,96],[107,109,111,116,119,122,125,130,135,137,140,144,148,152,156,161,165,168,172,177,181,184,181,181,181,180,180,180,180,180,180,178,178,173,168,163,158,152,146,141,138,136,134,132,130,129,128,128,130,130,130,129,128,129,129,130,132,133,133,134,134,132,128,122,119,116,114,112,108,106,105,105,100,100,100,97,97,97,97,97,97,97,96,96,96,96,95],[107,108,110,113,115,118,121,126,131,134,137,140,143,148,152,157,162,165,169,173,177,181,181,181,180,181,181,181,180,180,180,178,176,170,167,163,158,152,145,140,137,134,132,130,129,127,127,126,127,128,128,126,125,125,125,123,126,128,129,130,130,125,124,119,116,114,112,110,107,106,105,100,100,100,96,96,96,96,96,96,96,96,96,96,96,95,95],[108,109,110,111,114,116,118,122,127,130,133,136,140,144,148,153,157,161,165,169,173,177,180,180,180,180,181,180,180,180,179,178,173,168,165,161,156,149,143,139,136,133,130,129,128,126,126,125,125,125,125,124,122,121,120,120,120,120,121,122,123,122,120,117,114,111,108,106,105,100,100,100,100,96,96,96,96,96,96,96,96,96,96,96,95,95,95],[108,109,110,110,112,115,116,118,122,125,129,133,137,140,144,149,152,157,161,165,169,173,176,179,179,180,180,180,178,178,176,175,171,165,163,160,153,148,143,139,135,132,129,128,127,125,124,124,123,123,122,122,120,118,117,118,115,117,118,118,119,117,116,115,112,109,107,105,100,100,100,100,97,96,96,96,96,96,96,96,96,96,96,95,95,95,95],[108,109,110,110,110,113,114,116,119,122,126,131,134,138,141,145,149,152,156,160,164,169,171,174,177,175,178,179,177,175,174,172,168,163,160,157,151,147,143,138,133,130,128,125,125,124,123,122,121,121,120,120,118,116,115,111,110,110,110,110,113,114,113,112,110,107,105,102,100,100,100,98,97,96,96,96,96,96,96,96,96,96,96,95,95,95,94],[108,109,109,110,110,111,112,114,117,120,124,128,131,135,138,142,145,149,152,155,158,163,166,167,170,173,175,175,175,173,171,169,164,160,156,153,149,144,140,136,131,129,126,124,123,123,122,121,120,120,120,119,117,115,111,110,110,110,110,110,109,109,110,109,108,106,103,101,100,100,100,98,97,96,96,96,96,96,96,96,96,96,95,95,95,95,94],[108,108,109,109,110,110,110,112,115,118,121,125,128,131,134,138,141,145,147,149,152,157,160,161,163,166,169,170,170,171,168,162,158,155,152,148,144,140,136,132,129,127,124,122,121,120,120,120,120,120,119,117,115,113,110,110,110,110,109,108,108,107,107,106,105,104,102,100,100,100,99,98,97,96,96,96,96,96,96,96,96,96,95,95,95,94,94],[107,108,109,109,110,110,110,112,115,117,119,122,125,127,130,133,137,141,143,145,148,149,152,155,157,159,160,160,161,162,159,156,153,149,146,142,139,134,130,128,126,125,122,120,120,120,119,119,119,118,117,115,113,111,110,110,109,108,107,106,106,105,104,104,103,102,100,100,100,99,99,98,97,96,96,96,96,96,96,96,96,95,95,95,95,94,94],[107,108,109,109,110,110,110,113,115,117,118,119,120,123,126,129,131,134,139,142,144,145,147,148,150,152,154,154,153,154,151,149,146,143,140,136,130,128,126,124,122,121,120,119,118,117,117,117,116,116,115,113,112,110,109,108,107,106,106,105,104,103,102,101,101,100,100,100,100,99,99,98,97,96,96,96,96,96,96,96,96,95,95,95,94,94,94],[107,108,108,109,109,110,111,112,114,115,116,117,118,119,121,125,125,127,131,136,140,141,142,144,144,145,148,149,148,147,146,144,140,138,136,130,127,125,123,121,119,118,117,117,116,116,116,115,114,113,113,111,110,109,108,107,106,105,105,103,103,102,102,102,103,101,100,100,100,99,98,98,97,96,96,96,96,96,96,96,96,95,95,95,94,94,94],[107,107,108,108,109,109,110,110,112,113,114,115,116,117,117,120,120,121,123,129,134,136,138,139,139,139,140,142,142,141,141,140,137,134,131,127,124,122,120,118,117,115,113,114,113,114,114,113,112,111,110,110,109,108,107,106,105,105,105,104,104,104,103,103,103,101,100,100,99,99,98,97,96,96,96,96,96,96,96,96,96,95,95,94,94,94,94],[106,107,107,108,108,108,109,110,110,111,112,113,114,115,114,115,116,116,119,123,125,130,133,134,134,134,134,135,135,136,135,134,132,130,128,124,121,119,118,116,114,112,111,111,111,112,112,111,110,110,110,109,108,108,107,108,107,106,105,104,104,104,103,103,103,102,101,100,99,99,98,97,96,96,96,96,96,96,96,96,95,95,95,94,94,94,94],[106,106,107,107,107,108,109,109,110,110,111,111,112,113,112,111,111,112,115,118,118,119,126,128,128,127,128,128,129,130,129,128,127,125,122,120,118,117,115,114,112,110,110,110,110,110,111,110,110,110,109,109,108,107,106,105,105,105,104,104,104,103,103,102,102,102,101,100,99,99,98,97,96,96,96,96,96,96,96,96,95,95,94,94,94,94,94],[105,106,106,107,107,108,108,109,109,110,110,110,110,111,110,110,110,110,111,114,115,116,121,121,121,121,121,122,123,124,124,123,121,119,118,117,115,114,112,111,110,110,110,110,110,110,109,109,108,109,107,107,106,106,105,105,104,104,104,104,103,103,102,102,102,101,100,100,99,99,98,97,96,96,96,96,96,96,96,96,95,95,94,94,94,94,94],[105,105,106,106,107,107,108,108,109,109,109,109,109,110,110,110,110,110,110,110,111,112,115,115,115,115,115,116,116,117,119,118,117,116,114,113,112,110,110,110,110,110,110,109,109,108,107,106,106,106,106,106,105,105,105,104,104,104,103,103,103,102,102,102,101,100,100,99,99,98,97,97,96,96,96,96,96,96,96,96,95,95,94,94,94,94,94],[104,105,105,106,106,107,107,108,108,108,108,108,108,108,108,108,108,108,108,108,110,110,110,110,110,110,110,111,113,115,116,115,113,112,110,110,110,110,110,110,109,108,108,108,108,107,106,105,105,105,105,105,105,104,104,104,104,103,103,103,102,102,102,101,100,100,100,99,99,98,97,97,96,96,96,96,96,96,96,96,95,95,94,94,94,94,94],[104,104,105,105,106,106,107,107,107,107,107,107,107,106,106,106,106,106,106,108,108,108,106,106,108,109,110,110,112,112,113,112,111,110,110,110,110,109,109,109,108,107,107,107,107,106,106,105,104,104,104,104,104,104,104,103,103,103,103,102,102,101,101,100,100,100,100,99,99,98,97,97,96,96,96,96,96,96,96,95,95,95,94,94,94,94,94],[103,104,104,105,105,106,106,106,107,107,106,106,105,105,104,104,104,104,105,107,107,106,105,105,107,108,109,110,110,110,110,110,110,109,109,109,109,109,109,108,107,107,107,107,106,106,105,104,104,104,104,104,104,104,103,103,103,103,102,102,101,101,100,100,100,100,100,99,98,97,97,96,96,96,96,96,96,96,95,95,95,94,94,94,94,94,94]],Dx=[0,1],Dy=[0,1],winWidth=.9*screen.width,winHeight=.7*screen.height,conWidth=.7*winWidth,conHeight=.7*winHeight,yslWidth=.2*winHeight,yslHeight=conHeight,xslWidth=conWidth,xslHeight=yslWidth,mapWidth=yslWidth*winWidth/winHeight,mapHeight=yslWidth,gap=.075*winHeight,lPad=(screen.width-conWidth-gap-mapWidth)/2,rPad=lPad,tPad=(winHeight-conHeight-gap-xslHeight)/2,bPad=tPad,svg=d3.select("#main").append("svg").attr("width",window.innerWidth).attr("height",window.innerHeight),xD=Dx,yD=Dy,xF=1,yF=1,xM=.5,yM=.5,brushExtent=[0,1,0,1],drawOutlines=function(){svg.append("rect").attr("x",lPad).attr("y",tPad).attr("width",conWidth).attr("height",conHeight).attr("stroke","black").attr("stroke-width",1.5).attr("fill","white"),svg.append("rect").attr("x",lPad+conWidth+gap).attr("y",tPad+conHeight+gap).attr("width",mapWidth).attr("height",mapHeight).attr("stroke","black").attr("stroke-width",1.5).attr("fill","white"),svg.append("rect").attr("x",lPad).attr("y",tPad+conHeight+gap).attr("width",xslWidth).attr("height",xslHeight).attr("id","xViewport").attr("stroke","black").attr("stroke-width",1.5).attr("fill","white"),svg.append("rect").attr("x",lPad+conWidth+gap).attr("y",tPad).attr("width",yslWidth).attr("height",yslHeight).attr("id","yViewport").attr("stroke","black").attr("stroke-width",1.5).attr("fill","white")
},drawControls=function(){var yBut=tPad+conHeight+.5*gap,xBut=lPad+conWidth+.5*gap,butInc=.25*yslWidth,butSize=.25*gap,Rx=xBut+10,Ry=yBut+10,xRx=xBut,xRy=yBut+.5*gap+3*butInc,plusXx=xBut,plusXy=yBut+.5*gap+butInc,minusXx=xBut,minusXy=yBut+.5*gap+2*butInc,yRx=xBut+.5*gap+3*butInc,yRy=yBut,plusYx=xBut+.5*gap+butInc,plusYy=yBut,minusYx=xBut+.5*gap+2*butInc,minusYy=yBut,g1=svg.append("g");g1.append("circle").attr("cx",Rx).attr("cy",Ry).attr("r",butSize).attr("class","resetButton").attr("fill","#008B00").attr("onclick",resetAll()),g1.append("text").attr("x",Rx).attr("y",Ry+7).attr("font-family","sans-serif").attr("fill","white").attr("font-size",20).attr("text-anchor","middle").attr("pointer-events","none").attr(onclick,resetAll()).text("R"),g1.append("circle").attr("cx",xRx).attr("cy",xRy).attr("r",butSize).attr("class","resetButton").attr("fill","#008B00").attr("onclick",resetXslice()),g1.append("text").attr("x",xRx).attr("y",xRy+7).attr("font-family","sans-serif").attr("fill","white").attr("font-size",20).attr("text-anchor","middle").attr("pointer-events","none").attr("onclick",resetXslice()).text("R"),g1.append("circle").attr("cx",yRx).attr("cy",yRy).attr("r",butSize).attr("class","resetButton").attr("fill","#008B00").attr("onclick",resetYslice()),g1.append("text").attr("x",yRx).attr("y",yRy+7).attr("font-family","sans-serif").attr("fill","white").attr("font-size",20).attr("text-anchor","middle").attr("pointer-events","none").attr("onclick",resetYslice()).text("R");var g2=svg.append("g");g2.append("circle").attr("cx",plusXx).attr("cy",plusXy).attr("r",butSize).attr("class","incButton").attr("onclick",increaseXslice()),g2.append("text").attr("x",plusXx).attr("y",plusXy+6).attr("font-family","sans-serif").attr("fill","white").attr("font-size",20).attr("text-anchor","middle").attr("pointer-events","none").attr("onclick",increaseXslice()).text("+"),g2.append("circle").attr("cx",plusYx).attr("cy",plusYy).attr("r",butSize).attr("class","incButton").attr("onclick",increaseYslice()),g2.append("text").attr("x",plusYx).attr("y",plusYy+6).attr("font-family","sans-serif").attr("fill","white").attr("font-size",20).attr("text-anchor","middle").attr("pointer-events","none").attr("onclick",increaseYslice()).text("+");var g3=svg.append("g");g3.append("circle").attr("cx",minusXx).attr("cy",minusXy).attr("r",butSize).attr("class","decButton").attr("onclick",decreaseXslice()).text("-"),g3.append("text").attr("x",minusXx).attr("y",minusXy+9).attr("font-family","sans-serif").attr("fill","white").attr("font-size",30).attr("text-anchor","middle").attr("pointer-events","none").attr("onclick",decreaseXslice()).text("-"),g3.append("circle").attr("cx",minusYx).attr("cy",plusYy).attr("r",butSize).attr("class","decButton").attr("onclick",decreaseYslice()),g3.append("text").attr("x",minusYx).attr("y",plusYy+9).attr("font-family","sans-serif").attr("fill","white").attr("font-size",30).attr("text-anchor","middle").attr("pointer-events","none").attr("onclick",decreaseYslice()).text("-")},resetAll=function(){resetBrush(),clearContour(),drawContour(Dx,Dy),resetXslice(),resetYslice(),mX=0,mY=0,brushExtent=[0,1,0,1]},resetXslice=function(){yF=1,0==mY||1==mY?clearXslice():drawXslice(getRowIndex(M,mY))},resetYslice=function(){xF=1,0==mX||1==mX?clearYslice():drawYslice(getColIndex(M,mX))},increaseXslice=function(){yF/=2},decreaseXslice=function(){yF=2*yF},increaseYslice=function(){xF/=2},decreaseYslice=function(){xF=2*xF},drawContour=function(xD,yD){var xContour=d3.scaleLinear().domain(xD).range([0,conWidth]),yContour=d3.scaleLinear().domain(yD).range([conHeight,0]),lineCon=d3.line().x(function(d){return xContour(d.x)}).y(function(d){return yContour(d.y)}),contour=svg.append("svg").attr("x",lPad).attr("y",tPad).attr("width",conWidth).attr("height",conHeight).attr("class","contour").attr("id","CON").selectAll("path").data(CL.map(function(d){return d3.range(d.x.length).map(function(i){return{x:d.x[i],y:d.y[i]}})})).enter().append("svg:path").attr("d",lineCon);drawXaxis(xContour),drawYaxis(yContour)},drawXaxis=function(xScale){d3.select("#X_axis").remove();var xAxis=d3.axisBottom().scale(xScale);svg.append("g").attr("id","X_axis").attr("class","axis").attr("transform","translate(0,"+(tPad+conHeight+.1*gap)+")").attr("transform","translate("+lPad+","+(tPad+conHeight+.1*gap)+")").call(xAxis)},drawYaxis=function(yScale){d3.select("#Y_axis").remove();var yAxis=d3.axisRight().scale(yScale);svg.append("g").attr("id","Y_axis").attr("class","axis").attr("transform","translate(0,"+(tPad+conHeight+.1*gap)+")").attr("transform","translate("+(lPad+conWidth+.1*gap)+","+tPad+")").call(yAxis)},clearContour=function(){d3.select("#CON").remove()},drawMap=function(){var xMap=d3.scaleLinear().domain(Dx).range([0,mapWidth]),yMap=d3.scaleLinear().domain(Dy).range([mapHeight,0]),lineMap=d3.line().x(function(d){return xMap(d.x)}).y(function(d){return yMap(d.y)}),map=svg.append("svg").attr("x",lPad+conWidth+gap).attr("y",tPad+conHeight+gap).attr("class","map").selectAll("path").data(CL.map(function(d){return d3.range(d.x.length).map(function(i){return{x:d.x[i],y:d.y[i]}})})).enter().append("svg:path").attr("d",lineMap)},activateBrush=function(){function brushed(){var br,coords,minX,maxX,minY,maxY,x0,x1,y0,y1,xL,xU,yL,yU,spanX,spanY;d3.event.selection&&(br=document.getElementById("BRUSH"),coords=d3.brushSelection(br),minX=coords[0][0],maxX=coords[1][0],minY=coords[0][1],maxY=coords[1][1],x0=lPad+conWidth+gap,y0=tPad+conHeight+gap,x1=x0+mapWidth,y1=y0+mapHeight,xL=(minX-x0)/(x1-x0),xU=(maxX-x0)/(x1-x0),yL=(minY-y0)/(y1-y0),yU=(maxY-y0)/(y1-y0),spanX=Dx[1]-Dx[0],spanY=Dy[1]-Dy[0],xD=[spanX*xL+Dx[0],spanX*xU+Dx[0]],yD=[spanY*(1-yU)+Dy[0],spanY*(1-yL)+Dy[0]],brushExtent=[xL,xU,1-yU,1-yL],clearContour(),drawContour(xD,yD))}var brush,x0,y0,x1,y1,brushed;brush=d3.brush(),x0=lPad+conWidth+gap,y0=tPad+conHeight+gap,x1=x0+mapWidth,y1=y0+mapHeight,brush.extent([[x0,y0],[x1,y1]]).on("end",brushed).on("start",resetBrush),svg.append("svg").attr("class","brush").attr("id","BRUSH").call(brush)},resetBrush=function(){brushExtent=[0,1,0,1],xD=Dx,yD=Dy,clearContour(),drawContour(xD,yD)},activateGuides=function(){var getMouseXY=function(){var mouse=d3.mouse(document.getElementById("CON"));if(mX=mouse[0],mY=mouse[1],mX<0&&(mX=0),mY<0&&(mY=0),mX>conWidth&&(mX=conWidth),mY>conHeight&&(mY=conHeight),mX/=conWidth,mY=1-mY/conHeight,followMouse(mX,mY),document.Show.mouseX.value=mX,document.Show.mouseY.value=mY,mY<=.01||mY>=.99)clearXslice();else{var row=getRowIndex(M,mY);drawXslice(row)}if(mX<=.01||mX>=.99)clearYslice();else{var col=getColIndex(M,mX);drawYslice(col)}},followMouse=function(mX,mY){var xPos=mX*conWidth+lPad,yPos=tPad+conHeight-mY*conHeight,vertU={x:xPos,y:tPad},vertL={x:xPos,y:tPad+conHeight},vEnds=[vertU,vertL],horzU={x:lPad,y:yPos},horzL={x:lPad+conWidth,y:yPos},hEnds=[horzU,horzL];d3.selectAll(".cursorGuide").remove();var line=d3.line().x(function(d){return d.x}).y(function(d){return d.y});svg.append("path").attr("class","line").attr("class","cursorGuide").attr("d",line(hEnds)),svg.append("path").attr("class","line").attr("class","cursorGuide").attr("d",line(vEnds))};getMouseXY(xD,yD)},arraySize=function(array){var nrows=array.length,ncols=array[0].length;return[nrows,ncols]},getXsliceLimits=function(){var nc=arraySize(M)[1],left=Math.floor(brushExtent[0]*nc),right=Math.ceil(brushExtent[1]*nc);return 1>left&&(left=1),right>nc&&(right=nc),[left,right]},getXsliceXvalues=function(){var lIndex=getXsliceLimits()[0],rIndex=getXsliceLimits()[1],nc=arraySize(M)[1],xbase=d3.range(1,nc+1),xdata=xbase.slice(lIndex,rIndex+1);return xdata},getXsliceYvalues=function(row){var ybase=M[row],lIndex=getXsliceLimits()[0],rIndex=getXsliceLimits()[1],ydata=ybase.slice(lIndex,rIndex+1);return ydata},getRowIndex=function(M,mY){var yNat=yD[0]+mY*(yD[1]-yD[0]);document.Show.mouseYnat.value=yNat;var nRow=arraySize(M)[0],nRowAdj=nRow*(brushExtent[3]-brushExtent[2]),yInd=mY*nRowAdj+nRow*brushExtent[2];return yInd=Math.round(yInd),document.Show.mouseRow.value=yInd,yInd},clearXslice=function(){d3.selectAll(".xslice").remove()},drawXslice=function(row){d3.selectAll(".xslice").remove(),d3.selectAll(".xViewport").remove(),d3.selectAll("#xClipBox").remove();for(var xdata=getXsliceXvalues(),ydata=getXsliceYvalues(row),xy=[],i=0;i<xdata.length;i++)xy.push({x:xdata[i],y:ydata[i]});var xscl=d3.scaleLinear().domain(d3.extent(xy,function(d){return d.x})).range([0,xslWidth]),minM=d3.min(M,function(d){return d3.min(d)}),maxM=d3.max(M,function(d){return d3.max(d)}),yscl=d3.scaleLinear().domain([minM,(maxM-minM)*yF+minM]).range([xslHeight-5,5]),slice=d3.line().x(function(d){return xscl(d.x)}).y(function(d){return yscl(d.y)}),clip=svg.append("defs").append("clipPath").attr("id","xClipBox");clip.append("use").attr("xlink:href","#xViewport");var xSlice=svg.append("g").attr("clip-path","url(#xClipBox)").attr("class","xViewport");xSlice.append("path").attr("transform","translate("+lPad+","+(tPad+conHeight+gap)+")").attr("width",xslWidth).attr("height",xslHeight).attr("class","line").attr("class","xslice").attr("d",slice(xy))},getYsliceLimits=function(){var nr=arraySize(M)[0],bottom=Math.floor(brushExtent[2]*nr),top=Math.ceil(brushExtent[3]*nr);return 1>bottom&&(bottom=1),top>nr&&(top=nr),[bottom,top]},getYsliceYvalues=function(){var bIndex=getYsliceLimits()[0],tIndex=getYsliceLimits()[1],nr=arraySize(M)[0],ybase=d3.range(1,nr+1),ydata=ybase.slice(bIndex,tIndex+1);return ydata},getYsliceXvalues=function(col){for(var xdata=[],nr=arraySize(M)[0],i=0;nr>i;i++)xdata.push(M[i][col]);var bIndex=getYsliceLimits()[0],tIndex=getYsliceLimits()[1];return xdata=xdata.slice(bIndex,tIndex+1)},getColIndex=function(M,mX){var xNat=xD[0]+mX*(xD[1]-xD[0]);document.Show.mouseXnat.value=xNat;var nCol=arraySize(M)[1];nColAdj=nCol*(brushExtent[1]-brushExtent[0]);var xInd=nCol*brushExtent[0]+mX*nColAdj;return xInd=Math.round(xInd),document.Show.mouseCol.value=xInd,xInd},clearYslice=function(){d3.selectAll(".yslice").remove()},drawYslice=function(col){d3.selectAll(".yslice").remove(),d3.selectAll(".yViewport").remove(),d3.selectAll("#yClipBox").remove();for(var xdata=getYsliceXvalues(col),ydata=getYsliceYvalues(),xy=[],i=0;i<ydata.length;i++)xy.push({x:xdata[i],y:ydata[i]});var minM=d3.min(M,function(d){return d3.min(d)}),maxM=d3.max(M,function(d){return d3.max(d)}),xscl=d3.scaleLinear().domain([minM,(maxM-minM)*xF+minM]).range([yslWidth-5,5]),yscl=d3.scaleLinear().domain(d3.extent(xy,function(d){return d.y})).range([yslHeight+tPad,tPad]),slice=d3.line().x(function(d){return xscl(d.x)}).y(function(d){return yscl(d.y)}),clip=svg.append("defs").append("clipPath").attr("id","yClipBox");clip.append("use").attr("xlink:href","#yViewport");var ySlice=svg.append("g").attr("clip-path","url(#yClipBox)").attr("class","yViewport");ySlice.append("path").attr("transform","translate("+(lPad+conWidth+gap)+",0)").attr("width",yslWidth).attr("height",yslHeight).attr("class","line").attr("class","yslice").attr("d",slice(xy))};drawOutlines(),drawMap(),drawContour(xD,yD),activateBrush(),svg.on("mousemove",activateGuides)}();
